{
  "version": 3,
  "sources": ["../../../app/routes/realisations_.$id.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/realisations_.$id.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/realisations_.$id.tsx\");\n  import.meta.hot.lastModified = \"1762173282284.066\";\n}\n// REMIX HMR END\n\nimport { useEffect, useState } from 'react';\nimport { useParams, Link, useNavigate } from '@remix-run/react';\nimport { CartUtils } from '../utils/cart';\nexport default function RealisationDetail() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [realisation, setRealisation] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedImage, setSelectedImage] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n  useEffect(() => {\n    async function fetchRealisation() {\n      try {\n        const response = await fetch('http://localhost:1337/api/realisations?populate=*');\n        if (!response.ok) throw new Error(`HTTP ${response.status}`);\n        const data = await response.json();\n        const item = data.data.find(r => r.id === parseInt(id || '0'));\n        if (!item) {\n          setError('R\u00E9alisation introuvable');\n          setLoading(false);\n          return;\n        }\n        const imagesUrls = item.Images?.map(img => `http://localhost:1337${img.url}`) || [];\n        setRealisation({\n          id: item.id,\n          title: item.Titre || 'Titre indisponible',\n          description: item.Description || 'Description indisponible',\n          prix: item.Prix || 'Prix sur demande',\n          images: imagesUrls,\n          specifications: item.Specifications || '',\n          stock: item.Stock || 0\n        });\n        if (imagesUrls.length > 0) {\n          setSelectedImage(0);\n        }\n      } catch (err) {\n        console.error('Erreur:', err);\n        setError(`Erreur lors du chargement: ${err.message}`);\n      } finally {\n        setLoading(false);\n      }\n    }\n    if (id) {\n      fetchRealisation();\n    }\n  }, [id]);\n\n  // \u2705 Ajout au panier sans alert, avec redirection\n  const handleAddToCart = () => {\n    if (!realisation) return;\n    const item = {\n      id: realisation.id,\n      title: realisation.title,\n      prix: Number(realisation.prix) || 0,\n      image_url: realisation.images?.[0] || \"\",\n      quantity: quantity\n    };\n    CartUtils.addToCart(item);\n    navigate('/panier'); // \u2705 redirection directe\n  };\n  if (loading) {\n    return <div className=\"container mx-auto py-16 px-4 text-center\">\n        <p className=\"text-xl\">Chargement...</p>\n      </div>;\n  }\n  if (error || !realisation) {\n    return <div className=\"container mx-auto py-16 px-4 text-center\">\n        <p className=\"text-red-500 text-xl mb-4\">{error || 'R\u00E9alisation introuvable'}</p>\n        <Link to=\"/realisations\" className=\"text-indigo-600 hover:text-indigo-800 font-medium\">\n          \u2190 Retour aux r\u00E9alisations\n        </Link>\n      </div>;\n  }\n  return <div className=\"container mx-auto py-8 px-4 max-w-7xl mt-[70px]\">\n      {/* Breadcrumb */}\n      <nav className=\"font-basecoat mb-8 text-sm\">\n        <Link to=\"/\" className=\"text-indigo-600 hover:text-indigo-800\">Accueil</Link>\n        <span className=\"mx-2\">/</span>\n        <Link to=\"/realisations\" className=\"font-basecoat text-indigo-600 hover:text-indigo-800\">R\u00E9alisations</Link>\n        <span className=\"mx-2\">/</span>\n        <span className=\"text-gray-600\">{realisation.title}</span>\n      </nav>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n        {/* Galerie */}\n        <div>\n          {realisation.images.length > 0 ? <div>\n              <div className=\"bg-gray-100 rounded-lg overflow-hidden mb-4\">\n                <img src={realisation.images[selectedImage]} alt={realisation.title} className=\"w-full h-96 object-cover\" />\n              </div>\n              {realisation.images.length > 1 && <div className=\"grid grid-cols-4 gap-2\">\n                  {realisation.images.map((img, index) => <button key={index} onClick={() => setSelectedImage(index)} className={`border-2 rounded-md overflow-hidden transition ${selectedImage === index ? 'border-yellow-400' : 'border-gray-300 hover:border-gray-400'}`}>\n                      <img src={img} alt={`${realisation.title} ${index + 1}`} className=\"w-full h-20 object-cover\" />\n                    </button>)}\n                </div>}\n            </div> : <div className=\"bg-gray-200 rounded-lg h-96 flex items-center justify-center\">\n              <span className=\"text-gray-500\">Aucune image disponible</span>\n            </div>}\n        </div>\n\n        {/* D\u00E9tails */}\n        <div>\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">{realisation.title}</h1>\n          <p className=\"text-3xl font-bold text-yellow-600 mb-6\">\n            {realisation.prix ? `${realisation.prix} \u20AC` : 'Prix sur demande'}\n          </p>\n\n          <div className=\"border-t border-b border-gray-200 py-6 mb-6\">\n            <h2 className=\"font-basecoat text-xl font-semibold mb-3\">Description</h2>\n            <p className=\"font-basecoat text-gray-700 whitespace-pre-line leading-relaxed\">\n              {realisation.description}\n            </p>\n          </div>\n\n          {/* Quantit\u00E9 + Bouton */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-4\">\n              <label className=\"font-medium text-gray-700\">Quantit\u00E9:</label>\n              <div className=\"flex items-center border border-gray-300 rounded-md\">\n                <button onClick={() => setQuantity(Math.max(1, quantity - 1))} className=\"px-4 py-2 hover:bg-gray-100 transition\" disabled={quantity <= 1}>\n                  -\n                </button>\n                <span className=\"px-6 py-2 border-l border-r border-gray-300\">\n                  {quantity}\n                </span>\n                <button onClick={() => setQuantity(quantity + 1)} className=\"px-4 py-2 hover:bg-gray-100 transition\">\n                  +\n                </button>\n              </div>\n            </div>\n\n            <button onClick={handleAddToCart} className=\"w-full py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 bg-yellow-400 text-black hover:bg-yellow-500\">\n              Ajouter au panier\n            </button>\n\n            <Link to=\"/realisations\" className=\"block w-full py-4 text-center border-2 border-gray-800 text-gray-800 rounded-lg font-semibold hover:bg-gray-100 transition\">\n              \u2190 Continuer mes achats\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>;\n}\n_s(RealisationDetail, \"Jp0hL8HseNZKD0CJHFW6ol7tOUg=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = RealisationDetail;\nvar _c;\n$RefreshReg$(_c, \"RealisationDetail\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
