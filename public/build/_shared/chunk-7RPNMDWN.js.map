{
  "version": 3,
  "sources": ["../../../app/utils/cart.ts"],
  "sourcesContent": ["// REMIX HMR BEGIN\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\nimport.meta.hot = __hmr__.createHotContext(\n//@ts-expect-error\n\"app/utils/cart.ts\"\n);\nimport.meta.hot.lastModified = \"1761945721483.0112\";\n}\n// REMIX HMR END\n\n// app/utils/cart.ts\n// Syst\u00E8me de panier simple avec localStorage\n\nexport interface CartItem {\n  id: number;\n  title: string;\n  prix: number;\n  quantity: number;\n  image_url?: string;\n}\n\nexport const CartUtils = {\n  // R\u00E9cup\u00E9rer le panier\n  getCart: (): CartItem[] => {\n    if (typeof window === 'undefined') return [];\n    const cart = localStorage.getItem('cart');\n    return cart ? JSON.parse(cart) : [];\n  },\n\n  // Ajouter au panier\n  addToCart: (item: Omit<CartItem, 'quantity'>, quantity: number = 1) => {\n    const cart = CartUtils.getCart();\n    const existingItem = cart.find(i => i.id === item.id);\n\n    if (existingItem) {\n      existingItem.quantity += quantity;\n    } else {\n      cart.push({ ...item, quantity });\n    }\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n    return cart;\n  },\n\n  // Retirer du panier\n  removeFromCart: (id: number) => {\n    const cart = CartUtils.getCart().filter(item => item.id !== id);\n    localStorage.setItem('cart', JSON.stringify(cart));\n    return cart;\n  },\n\n  // Modifier la quantit\u00E9\n  updateQuantity: (id: number, quantity: number) => {\n    const cart = CartUtils.getCart();\n    const item = cart.find(i => i.id === id);\n    if (item) {\n      item.quantity = quantity;\n      if (quantity <= 0) {\n        return CartUtils.removeFromCart(id);\n      }\n    }\n    localStorage.setItem('cart', JSON.stringify(cart));\n    return cart;\n  },\n\n  // Vider le panier\n  clearCart: () => {\n    localStorage.removeItem('cart');\n    return [];\n  },\n\n  // Calculer le total\n  getTotal: (cart: CartItem[]): number => {\n    return cart.reduce((total, item) => total + (item.prix * item.quantity), 0);\n  },\n\n  // Compter les articles\n  getItemCount: (cart: CartItem[]): number => {\n    return cart.reduce((count, item) => count + item.quantity, 0);\n  }\n};"],
  "mappings": ";;;;;AAEA,IAAI,aAAa;AACjB,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EACA;AACA,cAAY,IAAI,eAAe;AAC/B;AAcO,IAAM,YAAY;AAAA;AAAA,EAEvB,SAAS,MAAkB;AACzB,QAAI,OAAO,WAAW;AAAa,aAAO,CAAC;AAC3C,UAAM,OAAO,aAAa,QAAQ,MAAM;AACxC,WAAO,OAAO,KAAK,MAAM,IAAI,IAAI,CAAC;AAAA,EACpC;AAAA;AAAA,EAGA,WAAW,CAAC,MAAkC,WAAmB,MAAM;AACrE,UAAM,OAAO,UAAU,QAAQ;AAC/B,UAAM,eAAe,KAAK,KAAK,OAAK,EAAE,OAAO,KAAK,EAAE;AAEpD,QAAI,cAAc;AAChB,mBAAa,YAAY;AAAA,IAC3B,OAAO;AACL,WAAK,KAAK,EAAE,GAAG,MAAM,SAAS,CAAC;AAAA,IACjC;AAEA,iBAAa,QAAQ,QAAQ,KAAK,UAAU,IAAI,CAAC;AACjD,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,gBAAgB,CAAC,OAAe;AAC9B,UAAM,OAAO,UAAU,QAAQ,EAAE,OAAO,UAAQ,KAAK,OAAO,EAAE;AAC9D,iBAAa,QAAQ,QAAQ,KAAK,UAAU,IAAI,CAAC;AACjD,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,gBAAgB,CAAC,IAAY,aAAqB;AAChD,UAAM,OAAO,UAAU,QAAQ;AAC/B,UAAM,OAAO,KAAK,KAAK,OAAK,EAAE,OAAO,EAAE;AACvC,QAAI,MAAM;AACR,WAAK,WAAW;AAChB,UAAI,YAAY,GAAG;AACjB,eAAO,UAAU,eAAe,EAAE;AAAA,MACpC;AAAA,IACF;AACA,iBAAa,QAAQ,QAAQ,KAAK,UAAU,IAAI,CAAC;AACjD,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,WAAW,MAAM;AACf,iBAAa,WAAW,MAAM;AAC9B,WAAO,CAAC;AAAA,EACV;AAAA;AAAA,EAGA,UAAU,CAAC,SAA6B;AACtC,WAAO,KAAK,OAAO,CAAC,OAAO,SAAS,QAAS,KAAK,OAAO,KAAK,UAAW,CAAC;AAAA,EAC5E;AAAA;AAAA,EAGA,cAAc,CAAC,SAA6B;AAC1C,WAAO,KAAK,OAAO,CAAC,OAAO,SAAS,QAAQ,KAAK,UAAU,CAAC;AAAA,EAC9D;AACF;",
  "names": []
}
